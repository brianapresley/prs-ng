<div class='component-content'>
    <div>
        <span class='component-title'>[{{title}}]</span>
        <span><a routerLink='/review/list'>Back to list</a></span>
    </div>
    
    <table class="table table-sm" *ngIf="request">
            <tr>
                    
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Request ID</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >User</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Description</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Justification</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Delivery Mode</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Status</a></th>
                    <th class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Total</a></th>
                    <th *ngIf="request.status == 'Declined'" class="table-secondary"><a class="btn btn-link font-weight-bold"
                        >Rejection Reason</a></th>
            </tr>
            <tr>
                    
                    <td>{{request.id}}</td>
                    <td>{{request.user.username}}</td>
                    <td>{{request.description}}</td>
                    <td>{{request.justification}}</td>
                    <td>{{request.deliveryMode}}</td>
                    <td>{{request.status}}</td>
                    <td>{{request.total}}</td>

                </tr>
    </table>

<table *ngIf="request"  class="table table-sm">
<tr>
        <th class="table-secondary"><a class="btn btn-link font-weight-bold">Product</a></th>
        <th class="table-secondary"><a class="btn btn-link font-weight-bold">Quantity</a></th>
        <th class="table-secondary"><a class="btn btn-link font-weight-bold">Price/Unit</a></th>
        <th class="table-secondary"><a class="btn btn-link font-weight-bold">Total</a></th>
</tr>
            <tr *ngFor="let line of request.requestLines">
                <td>{{line.product.name}}</td>
                <td>{{line.quantity}}</td>
                <td>{{line.product.price | currency}}</td>
                <td>{{line.product.price * line.quantity | currency}}</td>
            </tr> 
            <tr>
                
                    <button (click)='approve()' class='btn btn-primary'>Approve</button>
                
        
                    <button  class='btn btn-danger' (click)='reject()'>Decline</button>
                
                
                    <input [(ngModel)]='request.rejectionReason' name='rejectionReason' 
                               type="text" class="form-control col-sm-6" id="rejectionReason" 
                               aria-describedby="rejectHelp" placeholder="Rejection Reason">

                    <button (click)='savereject()'>Save</button>
                   
                
            </tr>
     
    </table>
</div>